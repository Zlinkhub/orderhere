<!doctype html>
<html lang="id">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Azayaka Laundry - Order</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<div class="topbar">
  <div class="logo" id="logoWrap">
    <img id="logoImg" src="https://static.1010dry.id/pesanlaundry/images/5f486d5d5fb3cbf0ab6dc2278ee9a997.png" alt="logo">
  </div>
  <div style="flex:1">
    <h1 id="siteTitle" title="Klik cepat 5x untuk admin tersembunyi">ğŸ§º Azayaka Laundry</h1>
    <p class="sub" id="siteSubtitle">Form pemesanan Laundry â€” kirim via WhatsApp</p>
  </div>
</div>

<form id="laundryForm" onsubmit="event.preventDefault();">
 <div>
  <label>ğŸ‘¤ Order atas Nama: *</label>
  <div class="input-wrap">
    <input id="nama" type="text" placeholder="Nama Anda">
    <span class="clear-btn" onclick="clearInput('nama')">âœ–</span>
  </div>
  
<div>
  <label>ğŸ“± Nomor WhatsApp (opsional)</label>
  <div class="input-wrap">
    <input id="nohp" type="tel" placeholder="WhatsApp aktif">
    <span class="clear-btn" onclick="clearInput('nohp')">âœ–</span>
  </div>
</div>
    <label>Jenis Laundry *</label>
    <div class="btn-group" id="jenisGroup">
      <div class="btn" onclick="pilihJenis('Kiloan', this)">Kiloan</div>
      <div class="btn" onclick="pilihJenis('Satuan', this)">Satuan</div>
    </div>
  </div>
  <div>
    <label>Pilihan Layanan *</label>
    <div class="btn-group" id="layananGroup"></div>
  </div>
  <div>
    <label>â±ï¸ Estimasi Service *</label>
    <select id="estimasi">
      <option value="">-- Pilih estimasi --</option>
      <option>Reguler (3 hari)</option>
      <option>Express (1 hari)</option>
      <option>Sameday</option>
    </select>
  </div>
  <div>
    <label>ğŸšš Pilihan Pengiriman *</label>
    <div class="btn-group" id="deliveryGroup">
      <div class="btn" onclick="pilihDelivery('Jemput', this)">Jemput</div>
      <div class="btn" onclick="pilihDelivery('Antar', this)">Antar</div>
      <div class="btn" onclick="pilihDelivery('Jemput & Antar', this)">Jemput & Antar</div>
      <div class="btn" onclick="pilihDelivery('Drop Off', this)">Drop Off</div>
    </div>
  </div>
  <div>
    <label>ğŸ•’ Waktu (opsional)</label>
    <input id="waktu" type="time">
  </div>
  <div>
    <label>ğŸ“ Lokasi (opsional)</label>
    <div class="loc-row">
      <input id="lokasi" class="loc-input" readonly placeholder="Klik ğŸ“ untuk ambil lokasi otomatis (opsional)">
      <button type="button" class="loc-btn" onclick="ambilLokasi()">ğŸ“</button>
    </div>
  </div>
  <div>
    <label>ğŸ  Alamat / blok / no.rumah (opsional)</label>
    <input id="alamat" type="text" placeholder="Contoh: i01/38">
  </div>
  <div>
    <label>ğŸ“ Catatan (opsional)</label>
    <input id="note" type="text" placeholder="contoh: request parfum">
  </div>
  <div class="actions">
    <button type="button" class="admin-send" onclick="submitOrder('admin')">âœ‰ï¸ Kirim ke Admin</button>
    <button type="button" class="kurir-send" onclick="submitOrder('kurir')">ğŸšš Kirim ke Kurir</button>
  </div>
  <div id="externalLinks" style="margin-top:8px;" class="muted"></div>
</form>

<!-- PANEL ADMIN TERSEMBUNYI -->
<div id="adminPanel" style="display:none; padding:20px; background:#f3f3f3; border-top:2px solid #ccc;">
  <h2>Panel Admin</h2>
  <form id="adminLogin" onsubmit="event.preventDefault(); cekLogin();">
    <input type="text" id="adminUser" placeholder="Username">
    <input type="password" id="adminPass" placeholder="Password">
    <button type="submit">Login</button>
  </form>
  <p id="loginMsg"></p>
</div>

<footer>
  Â© <span id="year"></span> <span id="footerName">Team Azayaka Laundry</span> 
</footer>
  â„¢ <span id="created by"></span> <span id="footerName">fauzi.aff</span> 
</footer>
<!-- SCRIPTS -->
<script>
let clickCount = 0;
let lastClickTime = 0;

document.getElementById('siteTitle').addEventListener('click', function() {
  const now = Date.now();
  if (now - lastClickTime > 1000) clickCount = 0;
  clickCount++;
  lastClickTime = now;
  if (clickCount >= 5) {
    clickCount = 0;
    document.getElementById("adminPanel").style.display = "block";
  }
});

function cekLogin() {
  const user = document.getElementById('adminUser').value;
  const pass = document.getElementById('adminPass').value;
  const msg = document.getElementById('loginMsg');

  if (user === "Zlink" && pass === "1234") {
    msg.innerHTML = "âœ… Login berhasil! Anda masuk sebagai admin.";
  } else {
    msg.innerHTML = "âŒ Username atau password salah.";
  }
}

document.getElementById("year").textContent = new Date().getFullYear();

<!-- SIMPAN OTOMATIS NOMOR WHATSAPP -->
<script>
  const nohpInput = document.getElementById("nohp");

  // Saat halaman dimuat, ambil nomor terakhir dari localStorage
  window.addEventListener("load", () => {
    const savedNo = localStorage.getItem("customer_nohp");
    if (savedNo) {
      nohpInput.value = savedNo;
    }
  });

  // Saat pengguna mengubah nomor, simpan otomatis ke localStorage
  nohpInput.addEventListener("input", () => {
    const currentNo = nohpInput.value.trim();
    if (currentNo !== "") {
      localStorage.setItem("customer_nohp", currentNo);
    }
  });
</script>
</script>

<script src="script.js"></script>
<!-- ğŸ§  Simpan Otomatis Nama & Nomor WhatsApp -->
<script>
  const namaInput = document.getElementById("nama");
  const nohpInput = document.getElementById("nohp");

  // Saat halaman dibuka, ambil data tersimpan dari localStorage
  window.addEventListener("load", () => {
    const savedNama = localStorage.getItem("customer_nama");
    const savedNo = localStorage.getItem("customer_nohp");

    if (savedNama) namaInput.value = savedNama;
    if (savedNo) nohpInput.value = savedNo;
  });

  // Simpan otomatis setiap kali pengguna mengetik di kolom nama
  namaInput.addEventListener("input", () => {
    const currentNama = namaInput.value.trim();
    if (currentNama !== "") {
      localStorage.setItem("customer_nama", currentNama);
    }
  });

  // Simpan otomatis setiap kali pengguna mengetik di kolom nomor WhatsApp
  nohpInput.addEventListener("input", () => {
    const currentNo = nohpInput.value.trim();
    if (currentNo !== "") {
      localStorage.setItem("customer_nohp", currentNo);
    }
  });
</script>
</body>
</html>